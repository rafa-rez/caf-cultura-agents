# /agente_rag/Dockerfile

# 1. Imagem Base (Python)
FROM python:3.11-slim

# 2. Define o diretório de trabalho
WORKDIR /app

# 3. Instala dependências do sistema (ex: build-essentials, se necessário)
# (Pulado por enquanto, mas pode ser necessário para 'torch')

# 4. Copia e instala as dependências
COPY requirements.txt .
# É uma boa prática instalar torch e transformers separadamente, mas vamos simplificar
RUN pip install --no-cache-dir -r requirements.txt

# 5. Copia o código da aplicação
COPY main.py .

# (NOTA: Em um projeto real, aqui teríamos um passo para BAIXAR 
# os modelos (D1 e D2) para dentro da imagem, para que o container
# inicie rápido. Estamos pulando isso e simulando no código.)

# 6. Comando para rodar o worker
CMD ["python", "main.py"]